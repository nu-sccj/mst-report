<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Physical and Psychological Health Concerns | Research Question 1</title>
      <link rel="stylesheet" href="assets/css/styles.css">
      <link rel="stylesheet" href="assets/css/animations.css">
      <link rel="stylesheet" href="assets/css/background.css">
      <link rel="stylesheet" href="assets/css/submenu.css">
      <link rel="stylesheet" href="assets/css/charts.css">
      <link rel="stylesheet" href="assets/css/data-display.css">
      <link rel="stylesheet" href="assets/css/report-button.css">
      <link rel="stylesheet" href="assets/css/cards.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
      <!-- Add favicon -->
      <link rel="icon" href="assets/images/logo.png" type="image/png">
      <!-- Component loader script -->
      <script src="assets/js/component-loader.js"></script>
   </head>
   <body>
      <body>
         <div class="awareness-background">
            <div class="blue-teal-gradient"></div>
            <div class="awareness-symbol symbol-heart"><i class="fas fa-heart"></i></div>
            <div class="awareness-symbol symbol-hand"><i class="fas fa-hand-holding-heart"></i></div>
            <div class="awareness-symbol symbol-ribbon"><i class="fas fa-ribbon"></i></div>
            <div class="awareness-symbol symbol-star"><i class="fas fa-star"></i></div>
            <div class="awareness-symbol symbol-globe"><i class="fas fa-globe"></i></div>
            <div class="awareness-symbol symbol-users"><i class="fas fa-users"></i></div>
            <div class="awareness-symbol symbol-hands-helping"><i class="fas fa-people-carry"></i></div>
            <div class="awareness-symbol symbol-heart-pulse"><i class="fas fa-heartbeat"></i></div>
            <div class="awareness-symbol symbol-seedling"><i class="fas fa-seedling"></i></div>
            <div class="awareness-symbol symbol-dove"><i class="fas fa-dove"></i></div>
            <div class="awareness-symbol symbol-hands-holding"><i class="fas fa-hands-helping"></i></div>
            <div class="awareness-symbol symbol-child"><i class="fas fa-child"></i></div>
            <div class="awareness-symbol symbol-shield"><i class="fas fa-shield-alt"></i></div>
            <div class="awareness-symbol symbol-home"><i class="fas fa-home"></i></div>
            <div class="awareness-symbol symbol-medical"><i class="fas fa-briefcase-medical"></i></div>
            <div class="awareness-symbol symbol-education"><i class="fas fa-graduation-cap"></i></div>
            <div class="awareness-symbol symbol-balance"><i class="fas fa-balance-scale"></i></div>
            <div class="awareness-symbol symbol-heart-2"><i class="fas fa-heart"></i></div>
            <div class="awareness-symbol symbol-hands-2"><i class="fas fa-hands"></i></div>
         </div>
         <header>
            <nav>
               <div class="logo">
                  <a href="index.html"><img src="assets/images/logo.png" alt="MST Health Research Logo"></a>
               </div>
               <div class="menu-toggle">
                  <i class="fas fa-bars"></i>
               </div>
               <ul class="nav-menu">
                  <li><a href="index.html">About the Study</a></li>
                  <li class="active has-submenu">
                     <a href="research-question-home.html" style="pointer-events: all; cursor: pointer;">Research Questions</a>
                     <ul class="submenu">
                        <li><a href="research-question-home.html">Research Questions Home</a></li>
                        <li><a href="research-question1.html">Physical & Psychological Health</a></li>
                        <li><a href="research-question2.html">Health Risk Behaviors</a></li>
                        <li><a href="research-question3.html">Psychological Effects on Physical Health</a></li>
                        <li><a href="research-question4.html">Healthcare Access</a></li>
                        <li><a href="research-question5.html">Barriers to Health & Wellness</a></li>
                     </ul>
                  </li>
                  <li><a href="methodology.html">Methodology</a></li>
                  <li><a href="recommendations.html">Recommendations</a></li>
                  <li><a href="publications.html">Publications</a></li>
                  <li><a href="team.html">Research Team</a></li>
                  <li><a href="assets/Understanding Physical and Psychological Health MST_Technical Report.pdf" class="full-report-btn" target="_blank"><strong>Read Full Report Here</strong></a></li>
               </ul>
            </nav>
         </header>
         <main>
            <section class="hero" style="padding: 2rem 0;">
               <div class="container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 150px;">
                  <h1 style="color: #0d3063; font-size: 2.6rem; text-align: center; margin-bottom: 1rem;" class="animate-on-scroll">What are the short and long term physical and psychological health concerns for young people who experience commercial sexual exploitation?</h1>
               </div>
            </section>
            <section class="content-section">
               <div class="container">
                  <!-- Key Findings -->
                  <div class="key-finding">
                     <div class="finding-content">
                        <div class="finding-text">
                           <p>CSE survivors report significantly higher rates of negative health outcomes compared to their peers, with both physical and mental health challenges documented at alarming rates.</p>
                           <ul class="finding-stats">
                              <li><span class="stat-number">22%</span> reported poor physical health for more than a week</li>
                              <li><span class="stat-number">50%</span> reported poor mental health</li>
                              <li><span class="stat-number">51%</span> experienced frequent or severe headaches</li>
                              <li><span class="stat-number">47%</span> reported insomnia</li>
                              <li><span class="stat-number">61%</span> experienced depression</li>
                              <li><span class="stat-number">57%</span> reported anxiety</li>
                           </ul>
                        </div>
                        <div class="finding-visual">
                           <div class="finding-image" style="display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                              <img src="assets/images/findings/4.png" alt="CSE survivors face substantial barriers to accessing appropriate healthcare" style="max-width: 100%; height: auto; margin: 0 auto;" />
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- Health Metrics Dashboard -->
                  <div class="data-visualization" style="margin: 30px 0; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 64, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(77, 116, 230, 0.2); position: relative; overflow: auto; max-height: calc(100vh - 200px);">
                     <div class="research-data-item">
                        <div class="data-icon">
                           <i class="fas fa-hands-helping"></i>
                        </div>
                        <div class="data-content">
                           <h4>Self-reported health</h4>
                           <p>Roughly one fourth of the sample (22%) indicated their physical health was not good for more than one week in the past month and half (50%) indicated their mental health was not good for more than one week in the past month.</p>
                        </div>
                     </div>
                     <!-- Dropdown and checkbox filters -->
                     <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 20px; padding: 20px; max-width: 1000px; margin: 0 auto; background: rgba(255, 255, 255, 0.5); border-radius: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <span style="display: flex; flex-direction: column; gap: 6px; color: #808080; font-size: 10px; margin-top: 20px;">
                        <p>Toggle to view data by Interview Question</p>
                        </span>
                        <!-- Metric Dropdown -->
                        <div style="width: 100%; max-width: 250px;">
                           <select id="metricSelect" style="
                              padding: 10px 12px;
                              border-radius: 8px;
                              border: 2px solid #000000;
                              width: 100%;
                              background: white;
                              font-weight: 500;
                              color: #000000;
                              box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
                              transition: border-color 0.3s, box-shadow 0.3s;
                              " onfocus="this.style.borderColor='#0d3063'; this.style.boxShadow='0 0 6px rgba(13, 48, 99, 0.2)'"
                              onblur="this.style.borderColor='#000000'; this.style.boxShadow='0 1px 5px rgba(0, 0, 0, 0.2)'">
                           </select>
                        </div>
                        <!-- Checkboxes -->
                        <div style="display: flex; flex-direction: column; justify-content: center;">
                           <span style="font-size: 14px; font-weight: 600; color: #4d74e6; margin-bottom: 6px; display: flex; justify-content: center;">Source(s) of Data</span>
                           <div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center;">
                              <label style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                              <input type="checkbox" class="groupCheckbox" value="All"> All
                              </label>
                              <label style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                              <input type="checkbox" class="groupCheckbox" value="Agency" checked> Agency
                              </label>
                              <label style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                              <input type="checkbox" class="groupCheckbox" value="Social Media" checked> Social Media
                              </label>
                              <label style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                              <input type="checkbox" class="groupCheckbox" value="Self-Reported CSE" checked> Self-Reported CSE
                              </label>
                              <label style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                              <input type="checkbox" class="groupCheckbox" value="No CSE Reported" checked> No CSE Reported
                              </label>
                           </div>
                           <div style="display: flex; flex-direction: column; gap: 6px; color: #808080; font-size: 10px; margin-top: 20px;">
                              <span><strong>Agency:</strong> Individuals recruited through partner agencies participating in the study.</span>
                              <span><strong>Social Media:</strong> Individuals recruited via Meta advertisements.</span>
                              <span><strong>Self-Reported CSE:</strong> Participants who indicated experiencing commercial sexual exploitation by responding yes to one or more of the five items measuring whether they have traded sex for something of value.</span>
                              <span><strong>No CSE Reported:</strong> Participants who did not indicate experiencing commercial sexual exploitation, as they did not respond "yes" to any of the five items measuring whether they have traded sex for something of value.</span>
                           </div>
                        </div>
                     </div>
                     <div id="healthMetricsChartContainer" style="height: 400px; margin: 20px auto; width: 100%; max-width: 1000px;">
                        <canvas id="healthChart"></canvas>
                     </div>
                     <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            const rawData = {
                            // "General overall health": {
                            //     "Poor health": {"All": 26.9, "Agency": 21.1, "Social Media": 32.9, "Self-Reported CSE": 31.1, "No CSE Reported": 22.7},
                            //     "Good health": {"All": 73.1, "Agency": 78.9, "Social Media": 67.1, "Self-Reported CSE": 68.9, "No CSE Reported": 77.3}
                            // },
                            "Number of days in the past month when their physical health was not good (including illness and injury)": {
                                "< 1 week": {"All": 77.5, "Agency": 83.1, "Social Media": 71.8, "Self-Reported CSE": 73.1, "No CSE Reported": 82.0},
                                "> 1 week": {"All": 22.5, "Agency": 16.9, "Social Media": 28.2, "Self-Reported CSE": 26.9, "No CSE Reported": 18.0}
                            },
                            "Number of days in the past month when their mental health was not good (including stress, depression, and problems with emotions)": {
                                "< 1 week": {"All": 49.5, "Agency": 57.9, "Social Media": 40.7, "Self-Reported CSE": 46.3, "No CSE Reported": 52.8},
                                "> 1 week": {"All": 50.5, "Agency": 42.0, "Social Media": 59.3, "Self-Reported CSE": 53.8, "No CSE Reported": 47.2}
                            },
                            "Number of days in the past month when they felt sad, blue or depressed": {
                                "< 1 week": {"All": 46.9, "Agency": 57.1, "Social Media": 36.6, "Self-Reported CSE": 43.8, "No CSE Reported": 50.0},
                                "> 1 week": {"All": 53.1, "Agency": 42.9, "Social Media": 63.5, "Self-Reported CSE": 56.2, "No CSE Reported": 50.0}
                            },
                            "Number of days in the past month when they felt worried, tense, or anxious": {
                                "< 1 week": {"All": 52.4, "Agency": 56.5, "Social Media": 48.2, "Self-Reported CSE": 46.0, "No CSE Reported": 46.0},
                                "> 1 week": {"All": 47.6, "Agency": 43.5, "Social Media": 51.8, "Self-Reported CSE": 54.0, "No CSE Reported": 41.3}
                            },
                            "Number of days in the past month when poor physical or mental health kept them from doing their usual activities": {
                                "< 1 week": {"All": 67.7, "Agency": 74.6, "Social Media": 60.6, "Self-Reported CSE": 61.3, "No CSE Reported": 74.2},
                                "> 1 week": {"All": 32.3, "Agency": 25.4, "Social Media": 39.4, "Self-Reported CSE": 38.7, "No CSE Reported": 25.8}
                            },
                            "Felt limited in any way because of any impairment or health problem": {
                                "No": {"All": 69.7, "Agency": 81.0, "Social Media": 58.1, "Self-Reported CSE": 68.0, "No CSE Reported": 71.3},
                                "Yes": {"All": 30.3, "Agency": 18.9, "Social Media": 41.9, "Self-Reported CSE": 32.0, "No CSE Reported": 28.7}
                            },
                            "Number of days in the past month when they felt like they did not get enough rest or sleep": {
                                "< 1 week": {"All": 46.2, "Agency": 55.7, "Social Media": 36.6, "Self-Reported CSE": 44.8, "No CSE Reported": 47.6},
                                "> 1 week": {"All": 53.8, "Agency": 44.3, "Social Media": 63.5, "Self-Reported CSE": 55.2, "No CSE Reported": 52.4}
                            },
                            "Average hours of sleep they got per night": {
                                "< 8 hrs": {"All": 73.4, "Agency": 24.4, "Social Media": 28.9, "Self-Reported CSE": 76.5, "No CSE Reported": 70.2},
                                ">= 8 hrs": {"All": 26.6, "Agency": 75.6, "Social Media": 71.1, "Self-Reported CSE": 23.5, "No CSE Reported": 29.8}
                            }
                            };
                        
                            const colorPalette = {
                                "All": "rgba(52, 152, 219, 0.7)",
                                "Agency": "rgba(155, 89, 182, 0.7)",
                                "Social Media": "rgba(46, 204, 113, 0.7)",
                                "Self-Reported CSE": "rgba(231, 76, 60, 0.7)",
                                "No CSE Reported": "rgba(241, 196, 15, 0.7)"
                            };
                            
                            const borderColors = {
                                "All": "rgba(52, 152, 219, 1)",
                                "Agency": "rgba(155, 89, 182, 1)",
                                "Social Media": "rgba(46, 204, 113, 1)",
                                "Self-Reported CSE": "rgba(231, 76, 60, 1)",
                                "No CSE Reported": "rgba(241, 196, 15, 1)"
                            };
                        
                            const metricSelect = document.getElementById('metricSelect');
                            const checkboxes = document.querySelectorAll('.groupCheckbox');
                            let chart;
                        
                            // Populate metric dropdown
                            Object.keys(rawData).forEach(metric => {
                            const option = document.createElement('option');
                            option.value = metric;
                            option.textContent = metric;
                            metricSelect.appendChild(option);
                            });
                        
                            function updateChart() {
                            const selectedMetric = metricSelect.value;
                            const selectedGroups = Array.from(checkboxes)
                                .filter(cb => cb.checked)
                                .map(cb => cb.value);
                        
                            const data = rawData[selectedMetric];
                            const labels = Object.keys(data);
                        
                            const datasets = selectedGroups.map(group => {
                                return {
                                label: group,
                                data: labels.map(label => data[label][group]),
                                backgroundColor: colorPalette[group] || getRandomColor(),
                                borderColor: borderColors[group] || '#333',
                                borderWidth: 1
                                };
                            });
                        
                            if (chart) chart.destroy();
                            
                            const ctx = document.getElementById('healthChart').getContext('2d');
                            chart = new Chart(ctx, {
                                type: 'bar', // using bar type with indexAxis: 'y' for horizontal
                                data: {
                                labels: labels,
                                datasets: datasets
                                },
                                options: {
                                indexAxis: 'y', // This makes the bars horizontal
                                responsive: true,
                                maintainAspectRatio: false,
                                barPercentage: 0.8,
                                categoryPercentage: 0.9,
                                plugins: {
                                    title: {
                                    display: true,
                                    font: { size: 18 }
                                    },
                                    legend: { position: 'bottom' }
                                },
                                scales: {
                                    x: {
                                    beginAtZero: true,
                                    max: 100,
                                    grid: {
                                        drawTicks: true,
                                        tickLength: 10,
                                        tickColor: '#ccc',
                                        tickWidth: 1,
                                        tickAlign: 'outside',
                                        drawBorder: true,
                                        borderDash: [5, 5],
                                        borderDashOffset: 0.0,
                                        borderWidth: 1,
                                        borderColor: '#ccc',
                                        drawOnChartArea: true,
                                        drawTicks: true,
                                        tickLength: 10,
                                        tickWidth: 1,
                                        tickColor: '#ccc',
                                        tickAlign: 'outside',
                                        drawBorder: true,
                                        borderDash: [5, 5],
                                        borderDashOffset: 0.0,
                                        borderWidth: 1,
                                        borderColor: '#ccc',
                                        drawOnChartArea: true,
                                        display: true,
                                        ticks: {
                                        callback: function(value) {
                                            if (value === 25 || value === 50 || value === 75) {
                                            return value + '%';
                                            } else {
                                            return '';
                                            }
                                        }
                                        }
                                    }
                                    },
                                    y: {}
                                }
                                },
                                plugins: [{
                                id: 'dataLabels',
                                afterDraw: function(chart) {
                                    var ctx = chart.ctx;
                                    chart.data.datasets.forEach(function(dataset, datasetIndex) {
                                        var meta = chart.getDatasetMeta(datasetIndex);
                                        if (!meta.hidden) {
                                            meta.data.forEach(function(element, index) {
                                                // Draw the text in white
                                                ctx.fillStyle = 'black';
                                                ctx.font = 'bold 12px Arial';
                                                ctx.textAlign = 'left';
                                                ctx.textBaseline = 'middle';
                                                
                                                var dataValue = dataset.data[index];
                                                var position = element.tooltipPosition();
                                                
                                                // Display value for all bars regardless of size
                                                ctx.fillText(dataValue + '%', position.x / 2 + element.x / 2, position.y);
                                            });
                                        }
                                    });
                                }
                                }]
                            });
                            }
                        
                            function getRandomColor() {
                            const r = Math.floor(Math.random() * 200);
                            const g = Math.floor(Math.random() * 200);
                            const b = Math.floor(Math.random() * 200);
                            return `rgba(${r}, ${g}, ${b}, 0.7)`;
                            }
                        
                            metricSelect.addEventListener('change', updateChart);
                            checkboxes.forEach(cb => cb.addEventListener('change', updateChart));
                        
                            // Initial render
                            updateChart();
                        });
                     </script>
                  </div>
                  <!-- Health Conditions Dashboard -->
                  <div class="data-visualization" style="margin: 30px 0; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 64, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(77, 116, 230, 0.2); position: relative; overflow: auto; max-height: calc(100vh - 200px);">
                     <div class="research-data-item">
                        <div class="data-icon">
                           <i class="fas fa-heartbeat"></i>
                        </div>
                        <div class="data-content">
                           <h4>Reported Health Conditions</h4>
                           <p>Over half of the sample reported frequent or <strong>severe headaches (51%)</strong>, and just over half of the sample reported frequent <strong>insomnia (47%)</strong>. Most of the youth in this study reported experiencing adverse mental health conditions such as <strong>depression (61%)</strong> or <strong>anxiety (57%)</strong>. Of those who reported having a <strong>sexually transmitted disease</strong>, 19% selfreported CSE, compared to 2.4% who did not self-report CSE.</p>
                        </div>
                     </div>
                     <!-- Table display for health conditions -->
                     <div class="table-container" style="margin: 20px auto; width: 100%; max-width: 900px; overflow-x: auto;">
                        <!-- Condition type selector -->
                        <div style="margin: 15px auto; max-width: 400px;">
                           <select id="conditionTypeSelect" style="
                              padding: 10px 12px;
                              border-radius: 8px;
                              border: 2px solid #000000;
                              width: 100%;
                              background: white;
                              font-weight: 500;
                              color: #000000;
                              box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
                              transition: border-color 0.3s, box-shadow 0.3s;
                              " onfocus="this.style.borderColor='#000000'; this.style.boxShadow='0 0 6px rgba(0, 0, 0, 0.2)'"
                              onblur="this.style.borderColor='#000000'; this.style.boxShadow='0 1px 5px rgba(0, 0, 0, 0.2)'">
                              <option value="physical">Physical Health Conditions</option>
                              <option value="psychological">Psychological Health Conditions (Diagnosed)</option>
                              <option value="psychological-suspected">Psychological Health Conditions (Suspected)</option>
                           </select>
                        </div>
                        <table id="conditionsTable" style="width: 100%; border-collapse: collapse; box-shadow: 0 2px 15px rgba(0,0,0,0.1); border-radius: 10px; overflow: hidden; font-size: calc(0.8rem + 0.2vw);">
                           <thead>
                              <tr style="background: #0d3063; color: white;">
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 25%;">Condition</th>
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 15%;">All</th>
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 15%;">Agency</th>
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 15%;">Social Media</th>
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 15%;">Reported CSE</th>
                                 <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee; font-weight: 600; width: 15%;">No CSE Reported</th>
                              </tr>
                           </thead>
                           <tbody id="conditionsTableBody">
                              <!-- Will be populated dynamically -->
                           </tbody>
                        </table>
                     </div>
                     <div id="conditionsChartContainer" style="height: 400px; margin: 20px auto; width: 100%; max-width: 1100px; display: none;">
                        <canvas id="healthConditionsChart"></canvas>
                     </div>
                     <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // Health conditions data
                            const healthConditionsData = {
                                "Headaches": {"All": 51.3, "Agency": 53.2, "Social Media": 49.4, "Reported CSE": 56.4, "No CSE Reported": 46.2},
                                "Insomnia": {"All": 47.6, "Agency": 46.1, "Social Media": 19.2, "Reported CSE": 53.4, "No CSE Reported": 41.8},
                                "Allergies": {"All": 44.8, "Agency": 38.7, "Social Media": 51.0, "Reported CSE": 47.1, "No CSE Reported": 42.6},
                                "Covid": {"All": 39.1, "Agency": 27.5, "Social Media": 51.0, "Reported CSE": 35.9, "No CSE Reported": 42.2},
                                "Back or Neck Pain": {"All": 35.1, "Agency": 30.9, "Social Media": 39.3, "Reported CSE": 37.9, "No CSE Reported": 32.3},
                                "Chronic Pain": {"All": 26.2, "Agency": 18.9, "Social Media": 33.7, "Reported CSE": 29.8, "No CSE Reported": 22.7},
                                "Asthma": {"All": 25.4, "Agency": 28.1, "Social Media": 22.6, "Reported CSE": 27.3, "No CSE Reported": 23.5},
                                "STDs": {"All": 10.9, "Agency": 15.7, "Social Media": 6.0, "Reported CSE": 19.44, "No CSE Reported": 2.38},
                                "High Blood Pressure": {"All": 9.5, "Agency": 11.3, "Social Media": 7.6, "Reported CSE": 12.7, "No CSE Reported": 6.4},
                                "Ulcers": {"All": 7.5, "Agency": 9.4, "Social Media": 5.6, "Reported CSE": 11.9, "No CSE Reported": 3.1},
                                "Diabetes": {"All": 6.2, "Agency": 6.3, "Social Media": 6.1, "Reported CSE": 7.9, "No CSE Reported": 4.4},
                                "Lung Disease": {"All": 3.2, "Agency": 3.5, "Social Media": 2.8, "Reported CSE": 4.7, "No CSE Reported": 1.6},
                                "Heart Disease": {"All": 2.9, "Agency": 2.4, "Social Media": 3.6, "Reported CSE": 3.2, "No CSE Reported": 2.8},
                                "HIV": {"All": 2.2, "Agency": 2.8, "Social Media": 1.6, "Reported CSE": 2.8, "No CSE Reported": 1.6},
                                "Tuberculosis": {"All": 1.2, "Agency": 0.4, "Social Media": 2.0, "Reported CSE": 0.8, "No CSE Reported": 1.6}
                            };
                        
                            // Psychological diagnosed conditions data
                            const psychDiagConditionsData = {
                                "Depression": {"All": 61.80, "Agency": 65.08, "Social Media": 58.47, "Reported CSE": 74.20, "No CSE Reported": 50.40},
                                "Anxiety Disorder": {"All": 57.20, "Agency": 55.12, "Social Media": 59.35, "Reported CSE": 65.60, "No CSE Reported": 48.81},
                                "PTSD": {"All": 37.77, "Agency": 24.90, "Social Media": 55.41, "Reported CSE": 50.20, "No CSE Reported": 25.31},
                                "ADHD": {"All": 31.21, "Agency": 33.70, "Social Media": 28.51, "Reported CSE": 36.80, "No CSE Reported": 26.20},
                                "Bipolar Disorder": {"All": 17.96, "Agency": 25.79, "Social Media": 10.04, "Reported CSE": 25.20, "No CSE Reported": 10.76},
                                "Eating Disorder": {"All": 17.50, "Agency": 16.54, "Social Media": 18.47, "Reported CSE": 23.51, "No CSE Reported": 11.51},
                                "Autism": {"All": 9.98, "Agency": 4.80, "Social Media": 15.30, "Reported CSE": 9.90, "No CSE Reported": 10.00},
                                "ODD": {"All": 8.96, "Agency": 11.10, "Social Media": 6.80, "Reported CSE": 11.60, "No CSE Reported": 6.40},
                                "Schizophrenia": {"All": 3.79, "Agency": 3.95, "Social Media": 3.63, "Reported CSE": 6.00, "No CSE Reported": 1.59},
                                "Intellectual Disability": {"All": 3.59, "Agency": 5.10, "Social Media": 2.00, "Reported CSE": 6.40, "No CSE Reported": 0.80}
                            };
                        
                            // Psychological suspected conditions data
                            const psychSuspConditionsData = {
                                "Depression": {"All": 11.00, "Agency": 6.35, "Social Media": 15.73, "Reported CSE": 8.80, "No CSE Reported": 13.20},
                                "Anxiety Disorder": {"All": 10.80, "Agency": 7.09, "Social Media": 14.63, "Reported CSE": 8.76, "No CSE Reported": 12.85},
                                "PTSD": {"All": 14.12, "Agency": 9.84, "Social Media": 18.47, "Reported CSE": 14.34, "No CSE Reported": 13.89},
                                "ADHD": {"All": 12.20, "Agency": 7.50, "Social Media": 16.89, "Reported CSE": 11.20, "No CSE Reported": 13.20},
                                "Bipolar Disorder": {"All": 8.50, "Agency": 6.30, "Social Media": 10.70, "Reported CSE": 7.80, "No CSE Reported": 9.20},
                                "Eating Disorder": {"All": 7.20, "Agency": 4.60, "Social Media": 9.80, "Reported CSE": 6.90, "No CSE Reported": 7.50},
                                "Autism": {"All": 17.17, "Agency": 5.56, "Social Media": 28.92, "Reported CSE": 15.14, "No CSE Reported": 19.20},
                                "ODD": {"All": 4.60, "Agency": 3.20, "Social Media": 6.00, "Reported CSE": 4.30, "No CSE Reported": 4.90},
                                "Schizophrenia": {"All": 2.50, "Agency": 1.80, "Social Media": 3.20, "Reported CSE": 2.30, "No CSE Reported": 2.70},
                                "Intellectual Disability": {"All": 3.80, "Agency": 2.40, "Social Media": 5.20, "Reported CSE": 3.60, "No CSE Reported": 4.00}
                            };
                        
                            // Get DOM elements
                            const conditionTypeSelect = document.getElementById('conditionTypeSelect');
                            const conditionsTableBody = document.getElementById('conditionsTableBody');
                        
                            // Function to update the conditions table based on the selected type
                            function updateConditionsTable() {
                                const selectedType = conditionTypeSelect.value;
                                conditionsTableBody.innerHTML = ''; // Clear existing table rows
                        
                                let dataToDisplay;
                                switch(selectedType) {
                                    case 'physical':
                                        dataToDisplay = healthConditionsData;
                                        break;
                                    case 'psychological':
                                        dataToDisplay = psychDiagConditionsData;
                                        break;
                                    case 'psychological-suspected':
                                        dataToDisplay = psychSuspConditionsData;
                                        break;
                                    default:
                                        dataToDisplay = healthConditionsData;
                                }
                        
                                // Sort conditions by 'All' percentage in descending order
                                const sortedConditions = Object.keys(dataToDisplay).sort((a, b) => {
                                    return dataToDisplay[b]['All'] - dataToDisplay[a]['All'];
                                });
                        
                                // Create and append table rows
                                sortedConditions.forEach(condition => {
                                    const row = document.createElement('tr');
                                    const data = dataToDisplay[condition];
                        
                                    // Create condition name cell
                                    const nameCell = document.createElement('td');
                                    nameCell.style.padding = '15px';
                                    nameCell.style.border = '1px solid #eee';
                                    nameCell.style.textAlign = 'left';
                                    nameCell.style.fontWeight = 'bold';
                                    nameCell.textContent = condition;
                                    row.appendChild(nameCell);
                        
                                    // Create cells for each category
                                    ['All', 'Agency', 'Social Media', 'Reported CSE', 'No CSE Reported'].forEach(category => {
                                        const cell = document.createElement('td');
                                        cell.style.padding = '15px';
                                        cell.style.border = '1px solid #eee';
                                        
                                        // Format the percentage with one decimal place
                                        const value = data[category] !== undefined ? data[category].toFixed(1) + '%' : 'N/A';
                                        cell.textContent = value;
                                        
                                        // Add background color based on value
                                        if (data[category] !== undefined) {
                                            // Higher values get stronger background colors
                                            const opacity = Math.min(0.1 + (data[category] / 100) * 0.5, 0.5);
                                            let bgColor;
                                            switch(category) {
                                                case 'All': bgColor = `rgba(54, 162, 235, ${opacity})`; break;
                                                case 'Agency': bgColor = `rgba(255, 99, 132, ${opacity})`; break;
                                                case 'Social Media': bgColor = `rgba(75, 192, 192, ${opacity})`; break;
                                                case 'Reported CSE': bgColor = `rgba(153, 102, 255, ${opacity})`; break;
                                                case 'No CSE Reported': bgColor = `rgba(255, 159, 64, ${opacity})`; break;
                                            }
                                            cell.style.backgroundColor = bgColor;
                                        }
                                        
                                        row.appendChild(cell);
                                    });
                        
                                    conditionsTableBody.appendChild(row);
                                });
                            }
                        
                            // Add event listener to the select element
                            conditionTypeSelect.addEventListener('change', updateConditionsTable);
                        
                            // Initialize the table with the default selection
                            updateConditionsTable();
                        });
                     </script>
                  </div>
                  <div class="key-insight">
                     <p>Self-reported CSE respondents report worse health than those who do not report-CSE victimization directly on the survey.</p>
                     <p style="font-size: 0.8rem; color: #777;">Read on the full report to learn more.</p>
                  </div>
                  <div class="question-navigation">
                     <a href="research-question-home.html" class="nav-button"><i class="fas fa-home"></i> Questions Home</a>
                     <a href="research-question2.html" class="nav-button">Next Question <i class="fas fa-arrow-right"></i></a>
                  </div>
               </div>
            </section>
         </main>
         <footer style="margin-top: 50px;">
            <div class="footer-content" style="display: flex; flex-direction: column; flex-wrap: wrap; gap: 20px; width: 100%; max-width: 1200px; margin: 0 auto;">
               <!-- Links Section (Same Row) -->
               <div class="footer-links" style="display: flex; justify-content: center; width: 100%; margin: 0 auto;">
                  <ul class="quick-links" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; padding: 0; margin: 0; list-style: none;">
                     <li><a href="index.html">About the Study</a></li>
                     <li><a href="research-question-home.html">Research Questions Home</a></li>
                     <li><a href="methodology.html">Methodology</a></li>
                     <li><a href="recommendations.html">Recommendations</a></li>
                     <li><a href="publications.html">Publications</a></li>
                     <li><a href="team.html">Research Team</a></li>
                  </ul>
               </div>
               <!-- Logos Section (New Row) -->
               <div class="logos" style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 20px;">
                  <a href="https://www.northeastern.edu/"><img src="assets/images/N-Logo.png" alt="Northeastern Logo"></a>
                  <a href="https://www.unh.edu/"><img src="assets/images/UNHL.png" alt="UNH Logo"></a>
                  <a href="https://www.rti.org/"><img src="assets/images/RTIL.png" alt="RTI Logo"></a>
                  <a href="https://www.bu.edu/"><img src="assets/images/BUL.png" alt="BU Logo"></a>
               </div>
               <!-- Copyright Section (New Row) -->
               <div class="footer-bottom" style="text-align: center; width: 100%;">
                  <p>&copy; 2025 All rights reserved.</p>
               </div>
            </div>
         </footer>
         <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
         <script src="assets/js/animations.js"></script>
   </body>
</html>
